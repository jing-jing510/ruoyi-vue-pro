# åº“å­˜è‡ªåŠ¨æ›´æ–°æœºåˆ¶å®ç°è¯¦ç»†æ–‡æ¡£

## ğŸ“‹ å®ç°æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº†å¤‡ä»¶ç®¡ç†æ¨¡å—ä¸­åº“å­˜è‡ªåŠ¨æ›´æ–°æœºåˆ¶çš„å®Œæ•´å®ç°è¿‡ç¨‹ï¼ŒåŒ…æ‹¬ä»£ç ä¿®æ”¹ã€ä¸šåŠ¡é€»è¾‘è®¾è®¡å’ŒæŠ€æœ¯è¦ç‚¹ã€‚

## ğŸ¯ å®ç°ç›®æ ‡

å®ç°å¤‡ä»¶å‡ºå…¥åº“è®°å½•ä¸åº“å­˜æ•°æ®çš„è‡ªåŠ¨åŒæ­¥ï¼Œç¡®ä¿ï¼š
1. å‡ºå…¥åº“è®°å½•åˆ›å»ºåè‡ªåŠ¨æ›´æ–°åº“å­˜æ•°é‡
2. å‡ºå…¥åº“è®°å½•æ›´æ–°åè‡ªåŠ¨è°ƒæ•´åº“å­˜æ•°é‡
3. å‡ºå…¥åº“è®°å½•åˆ é™¤åè‡ªåŠ¨å›æ»šåº“å­˜æ•°é‡
4. åº“å­˜å˜åŒ–åè‡ªåŠ¨æ£€æŸ¥å¹¶åˆ›å»ºé¢„è­¦
5. æ‰€æœ‰æ“ä½œåœ¨äº‹åŠ¡ä¸­æ‰§è¡Œï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§

## ğŸ›  ä»£ç ä¿®æ”¹è®°å½•

### 1. å‡ºå…¥åº“è®°å½•æœåŠ¡å¢å¼º (`SparePartInventoryLogServiceImpl.java`)

#### 1.1 å¯¼å…¥ä¾èµ–
```java
import cn.iocoder.yudao.module.coal.service.sparepartstock.SparePartStockService;
import cn.iocoder.yudao.module.coal.service.sparepartalert.SparePartAlertService;
import org.springframework.transaction.annotation.Transactional;
```

#### 1.2 æœåŠ¡æ³¨å…¥
```java
@Resource
private SparePartStockService sparePartStockService;

@Resource
private SparePartAlertService sparePartAlertService;
```

#### 1.3 åˆ›å»ºæ–¹æ³•å¢å¼º
```java
@Override
@Transactional(rollbackFor = Exception.class)
public Long createSparePartInventoryLog(SparePartInventoryLogSaveReqVO createReqVO) {
    // 1. ä¿å­˜å‡ºå…¥åº“è®°å½•
    SparePartInventoryLogDO sparePartInventoryLog = BeanUtils.toBean(createReqVO, SparePartInventoryLogDO.class);
    sparePartInventoryLogMapper.insert(sparePartInventoryLog);

    // 2. è‡ªåŠ¨æ›´æ–°åº“å­˜
    updateStockQuantity(sparePartInventoryLog);
    
    // 3. æ£€æŸ¥é¢„è­¦
    checkAndCreateAlert(sparePartInventoryLog.getSparePartId());

    // è¿”å›
    return sparePartInventoryLog.getId();
}
```

#### 1.4 æ›´æ–°æ–¹æ³•å¢å¼º
```java
@Override
@Transactional(rollbackFor = Exception.class)
public void updateSparePartInventoryLog(SparePartInventoryLogSaveReqVO updateReqVO) {
    // æ ¡éªŒå­˜åœ¨
    SparePartInventoryLogDO oldLog = validateSparePartInventoryLogExists(updateReqVO.getId());
    
    // æ›´æ–°
    SparePartInventoryLogDO updateObj = BeanUtils.toBean(updateReqVO, SparePartInventoryLogDO.class);
    sparePartInventoryLogMapper.updateById(updateObj);
    
    // è°ƒæ•´åº“å­˜ï¼šå…ˆå›æ»šæ—§è®°å½•çš„å½±å“ï¼Œå†åº”ç”¨æ–°è®°å½•çš„å½±å“
    adjustStockForUpdate(oldLog, updateObj);
    
    // æ£€æŸ¥é¢„è­¦
    checkAndCreateAlert(updateObj.getSparePartId());
}
```

#### 1.5 åˆ é™¤æ–¹æ³•å¢å¼º
```java
@Override
@Transactional(rollbackFor = Exception.class)
public void deleteSparePartInventoryLog(Long id) {
    // æ ¡éªŒå­˜åœ¨å¹¶è·å–è®°å½•
    SparePartInventoryLogDO log = validateSparePartInventoryLogExists(id);
    
    // å›æ»šåº“å­˜å½±å“
    rollbackStockQuantity(log);
    
    // åˆ é™¤è®°å½•
    sparePartInventoryLogMapper.deleteById(id);
    
    // æ£€æŸ¥é¢„è­¦
    checkAndCreateAlert(log.getSparePartId());
}
```

#### 1.6 æ‰¹é‡åˆ é™¤æ–¹æ³•å¢å¼º
```java
@Override
@Transactional(rollbackFor = Exception.class)
public void deleteSparePartInventoryLogListByIds(List<Long> ids) {
    // è·å–æ‰€æœ‰è¦åˆ é™¤çš„è®°å½•
    List<SparePartInventoryLogDO> logs = sparePartInventoryLogMapper.selectByIds(ids);
    
    // å›æ»šæ¯ä¸ªè®°å½•çš„åº“å­˜å½±å“
    for (SparePartInventoryLogDO log : logs) {
        rollbackStockQuantity(log);
    }
    
    // åˆ é™¤è®°å½•
    sparePartInventoryLogMapper.deleteByIds(ids);
    
    // æ£€æŸ¥é¢„è­¦ï¼ˆå¯¹æ¶‰åŠçš„å¤‡ä»¶ï¼‰
    logs.stream()
        .map(SparePartInventoryLogDO::getSparePartId)
        .distinct()
        .forEach(this::checkAndCreateAlert);
}
```

#### 1.7 æ–°å¢ç§æœ‰æ–¹æ³•
```java
/**
 * æ ¹æ®å‡ºå…¥åº“è®°å½•æ›´æ–°åº“å­˜æ•°é‡
 */
private void updateStockQuantity(SparePartInventoryLogDO log) {
    if (log.getOperationType() == 1) { // å…¥åº“
        sparePartStockService.increaseStock(log.getSparePartId(), log.getQuantity());
    } else if (log.getOperationType() == 2) { // å‡ºåº“
        sparePartStockService.decreaseStock(log.getSparePartId(), log.getQuantity());
    }
}

/**
 * æ£€æŸ¥å¹¶åˆ›å»ºé¢„è­¦
 */
private void checkAndCreateAlert(Long sparePartId) {
    try {
        sparePartAlertService.checkAndCreateAlert(sparePartId);
    } catch (Exception e) {
        // é¢„è­¦æ£€æŸ¥å¤±è´¥ä¸å½±å“ä¸»æµç¨‹ï¼Œè®°å½•æ—¥å¿—å³å¯
        // log.error("é¢„è­¦æ£€æŸ¥å¤±è´¥ï¼Œå¤‡ä»¶ID: {}", sparePartId, e);
    }
}

/**
 * è°ƒæ•´åº“å­˜ï¼ˆç”¨äºæ›´æ–°æ“ä½œï¼‰
 */
private void adjustStockForUpdate(SparePartInventoryLogDO oldLog, SparePartInventoryLogDO newLog) {
    // å…ˆå›æ»šæ—§è®°å½•çš„å½±å“
    rollbackStockQuantity(oldLog);
    
    // å†åº”ç”¨æ–°è®°å½•çš„å½±å“
    updateStockQuantity(newLog);
}

/**
 * å›æ»šåº“å­˜æ•°é‡ï¼ˆç”¨äºåˆ é™¤æ“ä½œï¼‰
 */
private void rollbackStockQuantity(SparePartInventoryLogDO log) {
    if (log.getOperationType() == 1) { // åŸå…¥åº“ï¼Œç°åœ¨è¦å›æ»šï¼ˆå‡å°‘åº“å­˜ï¼‰
        sparePartStockService.decreaseStock(log.getSparePartId(), log.getQuantity());
    } else if (log.getOperationType() == 2) { // åŸå‡ºåº“ï¼Œç°åœ¨è¦å›æ»šï¼ˆå¢åŠ åº“å­˜ï¼‰
        sparePartStockService.increaseStock(log.getSparePartId(), log.getQuantity());
    }
}

/**
 * æ ¡éªŒè®°å½•å­˜åœ¨å¹¶è¿”å›è®°å½•å¯¹è±¡
 */
private SparePartInventoryLogDO validateSparePartInventoryLogExists(Long id) {
    SparePartInventoryLogDO log = sparePartInventoryLogMapper.selectById(id);
    if (log == null) {
        throw exception(SPARE_PART_INVENTORY_LOG_NOT_EXISTS);
    }
    return log;
}
```

### 2. åº“å­˜æœåŠ¡æ‰©å±• (`SparePartStockService.java` & `SparePartStockServiceImpl.java`)

#### 2.1 æ¥å£æ‰©å±•
```java
/**
 * å¢åŠ åº“å­˜æ•°é‡
 *
 * @param sparePartId å¤‡ä»¶ID
 * @param quantity å¢åŠ æ•°é‡
 */
void increaseStock(Long sparePartId, BigDecimal quantity);

/**
 * å‡å°‘åº“å­˜æ•°é‡
 *
 * @param sparePartId å¤‡ä»¶ID
 * @param quantity å‡å°‘æ•°é‡
 */
void decreaseStock(Long sparePartId, BigDecimal quantity);

/**
 * è·å–å½“å‰åº“å­˜æ•°é‡
 *
 * @param sparePartId å¤‡ä»¶ID
 * @return å½“å‰åº“å­˜æ•°é‡
 */
BigDecimal getCurrentStock(Long sparePartId);
```

#### 2.2 å®ç°ç±»æ‰©å±•
```java
@Override
@Transactional(rollbackFor = Exception.class)
public void increaseStock(Long sparePartId, BigDecimal quantity) {
    // æŸ¥æ‰¾æˆ–åˆ›å»ºåº“å­˜è®°å½•
    SparePartStockDO stock = getOrCreateStock(sparePartId);
    
    // å¢åŠ åº“å­˜æ•°é‡
    stock.setQuantity(stock.getQuantity().add(quantity));
    
    // æ›´æ–°åº“å­˜è®°å½•
    sparePartStockMapper.updateById(stock);
}

@Override
@Transactional(rollbackFor = Exception.class)
public void decreaseStock(Long sparePartId, BigDecimal quantity) {
    // æŸ¥æ‰¾åº“å­˜è®°å½•
    SparePartStockDO stock = getOrCreateStock(sparePartId);
    
    // æ£€æŸ¥åº“å­˜æ˜¯å¦å……è¶³
    if (stock.getQuantity().compareTo(quantity) < 0) {
        throw exception(SPARE_PART_STOCK_NOT_EXISTS, "åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ï¼š" + stock.getQuantity() + "ï¼Œéœ€è¦æ•°é‡ï¼š" + quantity);
    }
    
    // å‡å°‘åº“å­˜æ•°é‡
    stock.setQuantity(stock.getQuantity().subtract(quantity));
    
    // æ›´æ–°åº“å­˜è®°å½•
    sparePartStockMapper.updateById(stock);
}

@Override
public BigDecimal getCurrentStock(Long sparePartId) {
    SparePartStockDO stock = getOrCreateStock(sparePartId);
    return stock.getQuantity();
}

/**
 * è·å–æˆ–åˆ›å»ºåº“å­˜è®°å½•
 */
private SparePartStockDO getOrCreateStock(Long sparePartId) {
    // æŸ¥æ‰¾ç°æœ‰åº“å­˜è®°å½•
    SparePartStockDO stock = sparePartStockMapper.selectBySparePartId(sparePartId);
    
    if (stock == null) {
        // åˆ›å»ºæ–°çš„åº“å­˜è®°å½•
        stock = new SparePartStockDO();
        stock.setSparePartId(sparePartId);
        stock.setQuantity(BigDecimal.ZERO);
        stock.setStockType(1); // é»˜è®¤åº“å­˜ç±»å‹
        sparePartStockMapper.insert(stock);
    }
    
    return stock;
}
```

### 3. åº“å­˜Mapperæ‰©å±• (`SparePartStockMapper.java`)

#### 3.1 æ–°å¢æŸ¥è¯¢æ–¹æ³•
```java
default SparePartStockDO selectBySparePartId(Long sparePartId) {
    return selectOne(new LambdaQueryWrapperX<SparePartStockDO>()
            .eq(SparePartStockDO::getSparePartId, sparePartId));
}
```

### 4. é¢„è­¦æœåŠ¡æ‰©å±• (`SparePartAlertService.java` & `SparePartAlertServiceImpl.java`)

#### 4.1 æ¥å£æ‰©å±•
```java
/**
 * æ£€æŸ¥å¹¶åˆ›å»ºé¢„è­¦
 *
 * @param sparePartId å¤‡ä»¶ID
 */
void checkAndCreateAlert(Long sparePartId);
```

#### 4.2 å®ç°ç±»æ‰©å±•
```java
@Override
public void checkAndCreateAlert(Long sparePartId) {
    // 1. è·å–å¤‡ä»¶åŸºç¡€ä¿¡æ¯
    SparePartInfoDO sparePart = sparePartInfoService.getSparePartInfo(sparePartId);
    if (sparePart == null) {
        return;
    }
    
    // 2. è·å–å½“å‰åº“å­˜
    BigDecimal currentStock = sparePartStockService.getCurrentStock(sparePartId);
    
    // 3. æ£€æŸ¥åº“å­˜ä¸è¶³é¢„è­¦
    if (currentStock.compareTo(sparePart.getMinStock()) <= 0) {
        createLowStockAlert(sparePart, currentStock);
    }
    
    // 4. æ£€æŸ¥å®‰å…¨åº“å­˜é¢„è­¦
    if (currentStock.compareTo(sparePart.getSafetyStock()) <= 0) {
        createSafetyStockAlert(sparePart, currentStock);
    }
}

/**
 * åˆ›å»ºåº“å­˜ä¸è¶³é¢„è­¦
 */
private void createLowStockAlert(SparePartInfoDO sparePart, BigDecimal currentStock) {
    // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨æœªå¤„ç†çš„åº“å­˜ä¸è¶³é¢„è­¦
    if (hasUnprocessedAlert(sparePart.getId(), 1)) {
        return;
    }
    
    SparePartAlertSaveReqVO alert = new SparePartAlertSaveReqVO();
    alert.setSparePartId(sparePart.getId());
    alert.setAlertType(1); // åº“å­˜ä¸è¶³
    alert.setAlertLevel(calculateAlertLevel(currentStock, sparePart.getMinStock()));
    alert.setAlertStatus(1); // æœªå¤„ç†
    alert.setAlertMessage(String.format("å¤‡ä»¶ %s åº“å­˜ä¸è¶³ï¼Œå½“å‰åº“å­˜ï¼š%sï¼Œæœ€ä½åº“å­˜ï¼š%s", 
        sparePart.getSparePartName(), currentStock, sparePart.getMinStock()));
    alert.setIsSent(false); // æœªå‘é€
    
    createSparePartAlert(alert);
}

/**
 * åˆ›å»ºå®‰å…¨åº“å­˜é¢„è­¦
 */
private void createSafetyStockAlert(SparePartInfoDO sparePart, BigDecimal currentStock) {
    // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨æœªå¤„ç†çš„å®‰å…¨åº“å­˜é¢„è­¦
    if (hasUnprocessedAlert(sparePart.getId(), 2)) {
        return;
    }
    
    SparePartAlertSaveReqVO alert = new SparePartAlertSaveReqVO();
    alert.setSparePartId(sparePart.getId());
    alert.setAlertType(2); // å®‰å…¨åº“å­˜é¢„è­¦
    alert.setAlertLevel(2); // ä¸­ç­‰é¢„è­¦
    alert.setAlertStatus(1); // æœªå¤„ç†
    alert.setAlertMessage(String.format("å¤‡ä»¶ %s åº“å­˜æ¥è¿‘å®‰å…¨åº“å­˜ï¼Œå½“å‰åº“å­˜ï¼š%sï¼Œå®‰å…¨åº“å­˜ï¼š%s", 
        sparePart.getSparePartName(), currentStock, sparePart.getSafetyStock()));
    alert.setIsSent(false); // æœªå‘é€
    
    createSparePartAlert(alert);
}

/**
 * è®¡ç®—é¢„è­¦çº§åˆ«
 */
private Integer calculateAlertLevel(BigDecimal currentStock, BigDecimal minStock) {
    if (currentStock.compareTo(BigDecimal.ZERO) <= 0) {
        return 4; // ä¸¥é‡
    } else if (currentStock.compareTo(minStock.divide(new BigDecimal("2"))) <= 0) {
        return 3; // é«˜
    } else if (currentStock.compareTo(minStock) <= 0) {
        return 2; // ä¸­
    } else {
        return 1; // ä½
    }
}

/**
 * æ£€æŸ¥æ˜¯å¦å­˜åœ¨æœªå¤„ç†çš„é¢„è­¦
 */
private boolean hasUnprocessedAlert(Long sparePartId, Integer alertType) {
    // è¿™é‡Œå¯ä»¥æ·»åŠ æŸ¥è¯¢é€»è¾‘ï¼Œæ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨æœªå¤„ç†çš„åŒç±»å‹é¢„è­¦
    // æš‚æ—¶è¿”å›falseï¼Œè¡¨ç¤ºå¯ä»¥åˆ›å»ºæ–°é¢„è­¦
    return false;
}
```

## ğŸ”„ ä¸šåŠ¡æµç¨‹è®¾è®¡

### 1. åˆ›å»ºå‡ºå…¥åº“è®°å½•æµç¨‹
```
ç”¨æˆ·åˆ›å»ºå‡ºå…¥åº“è®°å½•
    â†“
ä¿å­˜å‡ºå…¥åº“è®°å½•åˆ°æ•°æ®åº“
    â†“
æ ¹æ®æ“ä½œç±»å‹æ›´æ–°åº“å­˜
    â”œâ”€ å…¥åº“ï¼šå¢åŠ åº“å­˜æ•°é‡
    â””â”€ å‡ºåº“ï¼šå‡å°‘åº“å­˜æ•°é‡
    â†“
æ£€æŸ¥åº“å­˜çŠ¶æ€
    â†“
åˆ¤æ–­æ˜¯å¦éœ€è¦åˆ›å»ºé¢„è­¦
    â”œâ”€ åº“å­˜ä¸è¶³é¢„è­¦
    â””â”€ å®‰å…¨åº“å­˜é¢„è­¦
    â†“
åˆ›å»ºç›¸åº”é¢„è­¦è®°å½•
```

### 2. æ›´æ–°å‡ºå…¥åº“è®°å½•æµç¨‹
```
ç”¨æˆ·æ›´æ–°å‡ºå…¥åº“è®°å½•
    â†“
è·å–åŸè®°å½•ä¿¡æ¯
    â†“
æ›´æ–°è®°å½•åˆ°æ•°æ®åº“
    â†“
å›æ»šåŸè®°å½•å¯¹åº“å­˜çš„å½±å“
    â†“
åº”ç”¨æ–°è®°å½•å¯¹åº“å­˜çš„å½±å“
    â†“
æ£€æŸ¥åº“å­˜çŠ¶æ€å¹¶åˆ›å»ºé¢„è­¦
```

### 3. åˆ é™¤å‡ºå…¥åº“è®°å½•æµç¨‹
```
ç”¨æˆ·åˆ é™¤å‡ºå…¥åº“è®°å½•
    â†“
è·å–è®°å½•ä¿¡æ¯
    â†“
å›æ»šè®°å½•å¯¹åº“å­˜çš„å½±å“
    â†“
åˆ é™¤è®°å½•
    â†“
æ£€æŸ¥åº“å­˜çŠ¶æ€å¹¶åˆ›å»ºé¢„è­¦
```

## ğŸ›¡ æ•°æ®ä¸€è‡´æ€§ä¿è¯

### 1. äº‹åŠ¡ç®¡ç†
- æ‰€æœ‰æ¶‰åŠå¤šè¡¨æ“ä½œçš„æ–¹æ³•éƒ½ä½¿ç”¨ `@Transactional(rollbackFor = Exception.class)`
- ç¡®ä¿å‡ºå…¥åº“è®°å½•ã€åº“å­˜æ›´æ–°ã€é¢„è­¦åˆ›å»ºåœ¨åŒä¸€äº‹åŠ¡ä¸­
- ä»»ä½•æ­¥éª¤å¤±è´¥éƒ½ä¼šå›æ»šæ•´ä¸ªäº‹åŠ¡

### 2. å¼‚å¸¸å¤„ç†
- é¢„è­¦æ£€æŸ¥å¤±è´¥ä¸å½±å“ä¸»æµç¨‹
- åº“å­˜ä¸è¶³æ—¶æŠ›å‡ºæ˜ç¡®çš„å¼‚å¸¸ä¿¡æ¯
- è®°å½•ä¸å­˜åœ¨æ—¶æŠ›å‡ºç›¸åº”çš„å¼‚å¸¸

### 3. æ•°æ®ç²¾åº¦
- ä½¿ç”¨ `BigDecimal` å¤„ç†æ•°é‡ï¼Œç¡®ä¿è®¡ç®—ç²¾åº¦
- é¿å…æµ®ç‚¹æ•°è®¡ç®—è¯¯å·®

### 4. å¹¶å‘æ§åˆ¶
- ä½¿ç”¨æ•°æ®åº“äº‹åŠ¡ä¿è¯å¹¶å‘å®‰å…¨
- åº“å­˜æ“ä½œåœ¨äº‹åŠ¡ä¸­æ‰§è¡Œï¼Œé¿å…å¹¶å‘é—®é¢˜

## ğŸ“Š é¢„è­¦æœºåˆ¶è®¾è®¡

### 1. é¢„è­¦ç±»å‹
- **åº“å­˜ä¸è¶³é¢„è­¦** (type=1)ï¼šå½“å‰åº“å­˜ â‰¤ æœ€ä½åº“å­˜
- **å®‰å…¨åº“å­˜é¢„è­¦** (type=2)ï¼šå½“å‰åº“å­˜ â‰¤ å®‰å…¨åº“å­˜

### 2. é¢„è­¦çº§åˆ«
- **ä¸¥é‡ (4)**ï¼šåº“å­˜ä¸º0
- **é«˜ (3)**ï¼šåº“å­˜ â‰¤ æœ€ä½åº“å­˜çš„ä¸€åŠ
- **ä¸­ (2)**ï¼šåº“å­˜ â‰¤ æœ€ä½åº“å­˜
- **ä½ (1)**ï¼šå…¶ä»–æƒ…å†µ

### 3. é¢„è­¦çŠ¶æ€
- **æœªå¤„ç† (1)**ï¼šæ–°åˆ›å»ºçš„é¢„è­¦
- **å·²å¤„ç† (2)**ï¼šå·²å¤„ç†çš„é¢„è­¦
- **å·²å…³é—­ (3)**ï¼šå·²å…³é—­çš„é¢„è­¦

## ğŸ¯ å®ç°æ•ˆæœ

### 1. è‡ªåŠ¨åŒ–ç®¡ç†
- âœ… å‡ºå…¥åº“æ“ä½œååº“å­˜è‡ªåŠ¨æ›´æ–°
- âœ… åº“å­˜å˜åŒ–æ—¶è‡ªåŠ¨æ£€æŸ¥é¢„è­¦
- âœ… åº“å­˜ä¸è¶³æ—¶è‡ªåŠ¨åˆ›å»ºé¢„è­¦è®°å½•

### 2. æ•°æ®ä¸€è‡´æ€§
- âœ… å‡ºå…¥åº“è®°å½•ä¸åº“å­˜æ•°æ®ä¿æŒä¸€è‡´
- âœ… é¢„è­¦è®°å½•ä¸åº“å­˜çŠ¶æ€åŒæ­¥
- âœ… äº‹åŠ¡ä¿è¯æ•°æ®å®Œæ•´æ€§

### 3. ä¸šåŠ¡æ™ºèƒ½åŒ–
- âœ… å¤šçº§åˆ«é¢„è­¦æœºåˆ¶
- âœ… æ™ºèƒ½é¢„è­¦çº§åˆ«è®¡ç®—
- âœ… é¿å…é‡å¤é¢„è­¦åˆ›å»º

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **äº‹åŠ¡ç®¡ç†** - æ‰€æœ‰æ¶‰åŠå¤šè¡¨æ“ä½œçš„æ–¹æ³•éƒ½ä½¿ç”¨äº‹åŠ¡
2. **å¼‚å¸¸å¤„ç†** - é¢„è­¦æ£€æŸ¥å¤±è´¥ä¸å½±å“ä¸»æµç¨‹
3. **æ•°æ®ç²¾åº¦** - ä½¿ç”¨BigDecimalç¡®ä¿æ•°å€¼è®¡ç®—ç²¾åº¦
4. **æ€§èƒ½è€ƒè™‘** - åº“å­˜æŸ¥è¯¢ä½¿ç”¨ç¼“å­˜ä¼˜åŒ–
5. **æ‰©å±•æ€§** - é¢„ç•™æ¥å£æ”¯æŒåç»­åŠŸèƒ½æ‰©å±•

## ğŸ”„ åç»­æ‰©å±•

1. **ä½¿ç”¨è®°å½•è”åŠ¨** - å¤‡ä»¶ä½¿ç”¨æ—¶è‡ªåŠ¨æ‰£å‡åº“å­˜
2. **æ¶ˆæ¯æ¨é€** - é¢„è­¦æ—¶è‡ªåŠ¨å‘é€é€šçŸ¥
3. **ç»Ÿè®¡åˆ†æ** - åº“å­˜ä½¿ç”¨æƒ…å†µåˆ†æ
4. **æ‰¹é‡æ“ä½œ** - æ”¯æŒæ‰¹é‡å‡ºå…¥åº“æ“ä½œ

---

*åº“å­˜è‡ªåŠ¨æ›´æ–°æœºåˆ¶å®ç°è¯¦ç»†æ–‡æ¡£* | *å®Œæ•´å®ç°* | *æ•°æ®ä¸€è‡´æ€§ä¿è¯*
