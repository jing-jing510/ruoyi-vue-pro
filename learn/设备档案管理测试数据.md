# 设备档案管理模块测试数据

## 1. 设备分类测试数据

### 1.1 插入设备分类数据
```sql
-- 清空现有数据
DELETE FROM coal_equipment_category WHERE id > 0;

-- 重置自增ID
ALTER TABLE coal_equipment_category AUTO_INCREMENT = 1;

-- 插入设备分类数据
INSERT INTO coal_equipment_category (id, category_name, category_code, parent_id, category_level, sort, status, remark, creator, create_time, updater, update_time, tenant_id) VALUES
(1, '选煤设备', 'COAL_WASHING', 0, 1, 1, 1, '选煤厂主要设备分类', 'admin', NOW(), 'admin', NOW(), 1),
(2, '破碎设备', 'CRUSHING', 1, 2, 1, 1, '破碎机、筛分机等', 'admin', NOW(), 'admin', NOW(), 1),
(3, '洗选设备', 'WASHING', 1, 2, 2, 1, '跳汰机、重介分选机等', 'admin', NOW(), 'admin', NOW(), 1),
(4, '脱水设备', 'DEWATERING', 1, 2, 3, 1, '离心机、压滤机等', 'admin', NOW(), 'admin', NOW(), 1),
(5, '输送设备', 'CONVEYING', 0, 1, 2, 1, '皮带机、刮板机等输送设备', 'admin', NOW(), 'admin', NOW(), 1),
(6, '皮带输送机', 'BELT_CONVEYOR', 5, 2, 1, 1, '各种规格的皮带输送机', 'admin', NOW(), 'admin', NOW(), 1),
(7, '刮板输送机', 'CHAIN_CONVEYOR', 5, 2, 2, 1, '刮板输送机设备', 'admin', NOW(), 'admin', NOW(), 1),
(8, '电气设备', 'ELECTRICAL', 0, 1, 3, 1, '电机、变压器、配电柜等', 'admin', NOW(), 'admin', NOW(), 1),
(9, '电机设备', 'MOTOR', 8, 2, 1, 1, '各种功率的电机', 'admin', NOW(), 'admin', NOW(), 1),
(10, '配电设备', 'POWER_DISTRIBUTION', 8, 2, 2, 1, '配电柜、变压器等', 'admin', NOW(), 'admin', NOW(), 1);
```

## 2. 设备档案测试数据

### 2.1 插入设备档案数据
```sql
-- 清空现有数据
DELETE FROM coal_equipment_info WHERE id > 0;

-- 重置自增ID
ALTER TABLE coal_equipment_info AUTO_INCREMENT = 1;

-- 插入设备档案数据
INSERT INTO coal_equipment_info (
    equipment_code, equipment_name, category_id, parent_equipment_id, model, manufacturer,
    manufacture_date, install_date, commission_date, asset_number, rated_power, rated_capacity,
    weight, dimensions, voltage_level, protection_level, workshop, location, coordinate_x, coordinate_y,
    equipment_status, health_level, importance_level, responsible_person_id, maintenance_person_id, operator_person_id,
    qr_code, qr_code_url, manual_url, drawing_url, supplier, purchase_date, purchase_price,
    warranty_period, warranty_expire_date, remark, creator, create_time, updater, update_time, tenant_id
) VALUES
-- 破碎设备
('PC001', '颚式破碎机', 2, 0, 'PE600×900', '上海建工机械有限公司', '2023-01-15', '2023-03-20', '2023-04-01', 'ASSET001', 75.00, 50.00, 15.50, '2000×1800×1600', '380V', 'IP54', '破碎车间', '1号工位', 100.500000, 200.300000, 1, 1, 1, 1, 100, 1, '', '', '', '', '上海建工机械有限公司', '2023-01-10', 450000.00, 24, '2025-01-10', '主要破碎设备，处理能力50t/h', 'admin', NOW(), 'admin', NOW(), 1),

('PC002', '圆锥破碎机', 2, 0, 'PYB1750', '山特维克矿山工程机械有限公司', '2023-02-20', '2023-04-15', '2023-05-01', 'ASSET002', 160.00, 80.00, 25.80, '2800×2100×1900', '380V', 'IP55', '破碎车间', '2号工位', 150.200000, 250.800000, 1, 2, 2, 1, 100, 1, '', '', '', '', '山特维克矿山工程机械有限公司', '2023-02-15', 680000.00, 36, '2026-02-15', '中细碎设备，处理能力80t/h', 'admin', NOW(), 'admin', NOW(), 1),

-- 洗选设备
('XS001', '跳汰机', 3, 0, 'LTX-35', '唐山选煤机械有限公司', '2023-03-10', '2023-05-20', '2023-06-01', 'ASSET003', 45.00, 35.00, 12.50, '3500×2000×1800', '380V', 'IP54', '洗选车间', '1号工位', 300.100000, 100.500000, 1, 1, 2, 1, 100, 1, '', '', '', '', '唐山选煤机械有限公司', '2023-03-05', 320000.00, 24, '2025-03-05', '主要洗选设备，处理能力35t/h', 'admin', NOW(), 'admin', NOW(), 1),

('XS002', '重介分选机', 3, 0, 'HM-25', '山东矿机集团股份有限公司', '2023-04-15', '2023-06-25', '2023-07-01', 'ASSET004', 55.00, 25.00, 18.20, '2500×1800×1600', '380V', 'IP55', '洗选车间', '2号工位', 350.800000, 150.200000, 1, 2, 1, 1, 100, 1, '', '', '', '', '山东矿机集团股份有限公司', '2023-04-10', 480000.00, 36, '2026-04-10', '重介分选设备，处理能力25t/h', 'admin', NOW(), 'admin', NOW(), 1),

-- 脱水设备
('TS001', '离心脱水机', 4, 0, 'LWZ-1200', '江苏华宏机械有限公司', '2023-05-20', '2023-07-30', '2023-08-01', 'ASSET005', 30.00, 20.00, 8.50, '1200×800×1000', '380V', 'IP54', '脱水车间', '1号工位', 500.300000, 200.100000, 1, 1, 2, 1, 100, 1, '', '', '', '', '江苏华宏机械有限公司', '2023-05-15', 180000.00, 24, '2025-05-15', '离心脱水设备，处理能力20t/h', 'admin', NOW(), 'admin', NOW(), 1),

('TS002', '压滤机', 4, 0, 'XMZ-500', '景津环保股份有限公司', '2023-06-10', '2023-08-20', '2023-09-01', 'ASSET006', 25.00, 15.00, 12.80, '5000×2000×1500', '380V', 'IP55', '脱水车间', '2号工位', 550.600000, 250.400000, 1, 2, 1, 1, 100, 1, '', '', '', '', '景津环保股份有限公司', '2023-06-05', 220000.00, 36, '2026-06-05', '压滤脱水设备，处理能力15t/h', 'admin', NOW(), 'admin', NOW(), 1),

-- 输送设备
('SS001', '皮带输送机', 6, 0, 'DT75-1000', '山东华机重工有限公司', '2023-07-15', '2023-09-25', '2023-10-01', 'ASSET007', 15.00, 100.00, 5.20, '10000×1000×800', '380V', 'IP54', '输送车间', '1号工位', 100.000000, 300.000000, 1, 1, 2, 1, 100, 1, '', '', '', '', '山东华机重工有限公司', '2023-07-10', 85000.00, 24, '2025-07-10', '主输送皮带机，输送能力100t/h', 'admin', NOW(), 'admin', NOW(), 1),

('SS002', '刮板输送机', 7, 0, 'SGB-630/150', '山西煤矿机械制造有限公司', '2023-08-20', '2023-10-30', '2023-11-01', 'ASSET008', 22.00, 80.00, 8.80, '8000×630×600', '380V', 'IP55', '输送车间', '2号工位', 150.000000, 350.000000, 1, 2, 1, 1, 100, 1, '', '', '', '', '山西煤矿机械制造有限公司', '2023-08-15', 120000.00, 36, '2026-08-15', '刮板输送机，输送能力80t/h', 'admin', NOW(), 'admin', NOW(), 1),

-- 电气设备
('DQ001', '主电机', 9, 0, 'Y2-315M-4', '上海电机厂有限公司', '2023-09-10', '2023-11-20', '2023-12-01', 'ASSET009', 132.00, 0.00, 1.20, '800×600×500', '380V', 'IP55', '电气车间', '1号工位', 200.000000, 400.000000, 1, 1, 1, 1, 100, 1, '', '', '', '', '上海电机厂有限公司', '2023-09-05', 45000.00, 24, '2025-09-05', '132kW主电机，用于驱动破碎机', 'admin', NOW(), 'admin', NOW(), 1),

('DQ002', '配电柜', 10, 0, 'GGD-400A', '施耐德电气（中国）有限公司', '2023-10-15', '2023-12-25', '2024-01-01', 'ASSET010', 0.00, 0.00, 0.80, '600×400×2000', '380V', 'IP54', '电气车间', '2号工位', 250.000000, 450.000000, 1, 2, 1, 1, 100, 1, '', '', '', '', '施耐德电气（中国）有限公司', '2023-10-10', 25000.00, 36, '2026-10-10', '400A配电柜，用于设备供电', 'admin', NOW(), 'admin', NOW(), 1);
```

## 3. 测试验证要点

### 3.1 设备分类功能测试
1. **树形结构显示**：验证设备分类是否正确显示为树形结构
2. **分类层级**：确认一级分类（选煤设备、输送设备、电气设备）和二级分类的层级关系
3. **分类搜索**：测试按分类名称、分类级别搜索功能
4. **分类管理**：测试新增、编辑、删除分类功能

### 3.2 设备档案功能测试
1. **设备列表**：验证设备档案列表是否正确显示
2. **设备搜索**：
   - 按设备编号搜索（如：PC001）
   - 按设备名称搜索（如：颚式破碎机）
   - 按设备分类搜索（选择破碎设备）
   - 按设备状态搜索
   - 按健康等级搜索
   - 按重要度搜索
   - 按责任人搜索
3. **设备信息显示**：
   - 验证设备编号、名称、型号等基本信息
   - 验证设备状态、健康等级、重要度的字典显示
   - 验证责任人、维护人、操作人显示用户昵称
   - 验证说明书/图纸链接显示
4. **设备管理**：
   - 测试新增设备功能
   - 测试编辑设备功能
   - 测试删除设备功能
5. **二维码功能**：
   - 测试生成二维码功能
   - 验证二维码内容包含设备信息
   - 验证二维码预览显示

### 3.3 数据关联测试
1. **用户关联**：验证责任人、维护人、操作人显示为用户名而不是ID
2. **分类关联**：验证设备分类显示为分类名称而不是ID
3. **字典显示**：验证设备状态、健康等级、重要度显示为字典标签

### 3.4 文件上传测试
1. **说明书上传**：测试说明书文件上传功能
2. **图纸上传**：测试图纸文件上传功能
3. **文件链接**：验证上传后的文件链接是否正确显示

## 4. 预期测试结果

### 4.1 设备分类树形结构
```
选煤设备
├── 破碎设备
├── 洗选设备
└── 脱水设备
输送设备
├── 皮带输送机
└── 刮板输送机
电气设备
├── 电机设备
└── 配电设备
```

### 4.2 设备档案列表显示
- 设备编号：PC001, PC002, XS001, XS002, TS001, TS002, SS001, SS002, DQ001, DQ002
- 设备名称：颚式破碎机, 圆锥破碎机, 跳汰机, 重介分选机, 离心脱水机, 压滤机, 皮带输送机, 刮板输送机, 主电机, 配电柜
- 设备状态：正常（字典显示）
- 健康等级：优秀/良好（字典显示）
- 重要度：高/中（字典显示）
- 责任人：芋道源码（用户昵称显示）

### 4.3 二维码内容示例
```
设备编号: PC001
设备名称: 颚式破碎机
型号: PE600×900
厂商: 上海建工机械有限公司
车间: 破碎车间
位置: 1号工位
状态: 1
健康等级: 1
重要度: 1
责任人: 芋道源码
维护人: 芋道
操作人: 芋道源码
生成时间: 2025/9/7 11:30:00
```

## 5. 注意事项

1. **用户数据**：确保系统中有ID为1和100的用户数据
2. **字典数据**：确保设备状态、健康等级、重要度等字典数据已正确配置
3. **文件上传**：测试文件上传功能时，确保文件服务器正常运行
4. **权限测试**：测试不同用户角色的权限控制
5. **数据完整性**：验证外键约束和数据完整性

## 6. 测试数据清理

测试完成后，可以使用以下SQL清理测试数据：

```sql
-- 清理设备档案数据
DELETE FROM coal_equipment_info WHERE equipment_code IN ('PC001', 'PC002', 'XS001', 'XS002', 'TS001', 'TS002', 'SS001', 'SS002', 'DQ001', 'DQ002');

-- 清理设备分类数据
DELETE FROM coal_equipment_category WHERE id BETWEEN 1 AND 10;
```
